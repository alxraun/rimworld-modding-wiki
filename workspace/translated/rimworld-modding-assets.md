---
description: "Assets" module Rimworld modding documentation
globs: 
alwaysApply: false
---
`\\?\C:\Projects\rimworld\wiki_workspace\wiki\assets\assets-tutorial.md`:

```````md
## Modding Tutorials/Assets - Cheat Sheet

**Цель:** Извлечение базовых ресурсов из RimWorld для моддинга.

**Инструменты:**

- UnityEx (Архивы RimWorld 1.0)
    1. Скачайте UnityEx.
    2. Поместите `UnityEX.exe` в директорию RimWorld (необязательно).
    3. Запустите `UnityEX.exe`.
    4. Откройте `.asset` файл (например, `RimWorld\RimWorldWin64_Data\resources.assets`).
    5. Извлеките файлы ("Extract with convert" для конвертации `.tex` в `.dds`).
    6. Файлы будут находиться в папке `Unity_Assets_Files` (в той же директории, что и `.asset`).

- Unity Assets Bundle Extractor (Архивы RimWorld 1.0)
    1. Скачайте Unity Assets Bundle Extractor.
    2. Разархивируйте.
    3. Запустите `AssetBundleExtractor.exe`.
    4. Откройте `.asset` файл (например, `RimWorld\RimWorldWin64_Data\resources.assets`).
    5. Выберите файлы.
    6. Plugins -> "Export to .png" или "Export sound" (выберите файлы по типу).
    7. Выберите папку для сохранения.

- AssetStudio (Архивы RimWorld 1.5)
    1. Скачайте AssetStudio (рекомендуется net472, если не уверены).
    2. Разархивируйте.
    3. Запустите `AssetStudioGUI.exe`.
    4. File -> Load file (для `.assets`) или File -> Load folder (для DLC Asset Bundles).
       - Пример `.assets`: `RimWorld\RimWorldWin64_Data\resources.assets`
       - Пример DLC Asset Bundles: `RimWorld\Data\Anomaly\AssetBundles`
    5. Вкладка Asset List.
    6. Выберите файлы.
    7. Кликните правой кнопкой мыши -> "Export selected assets" (аудио/текстуры).
    8. Выберите папку для сохранения.

**Примечание:**

- Используйте [Рекомендованное графическое программное обеспечение](mdc:https:/rimworldwiki.com/wiki/Modding_Tutorials/Recommended_software#Graphics_Software) для редактирования извлеченных ресурсов.


```````

`\\?\C:\Projects\rimworld\wiki_workspace\wiki\assets\sounds-guide.md`:

```````md
## Modding Tutorials/Sounds - Cheat Sheet

**Элементы звуковой системы:**

- **Звуковое событие:** Сигнал из кода игры для воспроизведения звука. Определяется в коде игры.
- **SoundDef:** XML определение поведения звука. Управляет воспроизведением звукового файла, вариациями, параметрами. Редактируется в XML или в игре (устаревший редактор, рекомендуется редактирование XML).
- **Звуковой файл:** Исходный аудиофайл (wav, ogg, mp3), на который ссылается SoundDef. Создается и редактируется внешне.

**Начало работы с редактором звуков (Устаревший метод - Рекомендуется редактирование XML):**
- Включите режим разработчика в настройках игры.
- Откройте редактор пакетов (Больше нет в UI - Редактируйте XML напрямую).
- Выберите тип SoundDef.
- Выберите/создайте пакет мода.
- Создайте/Откройте пакет SoundDef.
- Создайте новый SoundDef.
- Выберите SoundDef для редактирования.

**Добавление звука в игру (XML метод):**
1. **Определите имя звукового события:** Найдите имя игрового события, которое вызывает желаемый звук (см. внешний список, если доступен).
2. **`defName` SoundDef:** Установите `defName` в вашем SoundDef XML, чтобы он соответствовал имени игрового события.
    - Используйте список `eventNames` для нескольких триггеров событий.
3. **Создайте звуковой файл:** Создайте `.wav`, `.ogg` или `.mp3` звуковой файл.
4. **Поместите звуковой файл:** В папку `Sounds` вашего мода.
5. **Отредактируйте SoundDef XML:**
    - Добавьте список `<subSounds>`.
    - Добавьте `<li>` внутри `<subSounds>`.
    - Добавьте список `<grains>` внутри `<li>`.
    - Добавьте `<li Class="AudioGrain_Clip">` внутри `<grains>`.
    - Установите `<clipPath>` на путь к звуковому файлу относительно корня мода (`Sounds/Path/To/YourSound`, без расширения).
6. **Проверьте звук:** В игре вызовите звуковое событие.

**Как работают SoundDef:**

- Код игры вызывает звуковые события по имени.
- Звуковая система ищет загруженные моды на соответствие `SoundDef` по `defName`.
- `SoundDef` управляет поведением воспроизведения звука (файлы, параметры и т. д.).
- XML определяет свойства `SoundDef`.

**Параметры звука:**

- Звуковые события могут передавать параметры (например, `ImpactSpeed`, `FireSize`, `CameraAltitude`).
- Параметры управляют динамическими изменениями в свойствах звука (громкость, высота тона и т. д.).
- Применяются к: Сустейнерам (непрерывные звуки) или OneShots (однократные звуки).
- Частота обновления:
    - Один раз за выборку: Значение параметра фиксируется при запуске звука.
    - Постоянно: Значение параметра обновляется каждый кадр (динамические изменения).
- Примеры параметров: `ImpactSpeed` (громкость удара пули), скорость курсора мыши (высота тона при наведении мыши на кнопку).
- Типы параметров: Определены в [Список звуковых событий и параметров](mdc:https:/docs.google.com/spreadsheet/pub?key=0AgWNUTNe4QC7dGpXa2ZHQTdPSU8yOVdrMllfbV9leEE&output=html) (внешняя ссылка).

**Ключевые элементы SoundDef:**

- `<defName>`: Уникальный идентификатор для SoundDef.
- `<eventNames>`: Список имен игровых событий, которые запускают этот SoundDef.
- `<subSounds>`: Список подзвуков для воспроизведения.
- `<grains>`: Список аудиосэмплов (зерна) для подзвука.
- `<clipPath>`: Путь к звуковому файлу внутри папки `Sounds` мода.
- `<volumeRange>`: Случайное изменение громкости.
- `<pitchRange>`: Случайное изменение высоты тона.
- `<paramMappings>`: Сопоставление игровых параметров со свойствами звука.
- `<sustainers>` vs. `<oneshots>`: Поведение воспроизведения звука.
- `<filters>`: Аудиофильтры (например, громкость на основе расстояния).


```````

`\\?\C:\Projects\rimworld\wiki_workspace\wiki\assets\textures-guide.md`:

```````md
## Textures - Cheat Sheet

**Создание текстур мода:**

- **Форматы файлов:** PNG (рекомендуется), JPG, PSD, DDS (с модами).
- **Стиль:** Ванильный стиль - векторный, но исходник - растровый. Используйте предпочтительную технику.
- **Разрешение:**
    - Ваниль: 64 пикселя на клетку (PPT).
    - Моды: 128 или 256 PPT - обычное дело.
    - Более высокое разрешение не рекомендуется (использование VRAM, артефакты сжатия).
- **Ориентируйтесь на ваниль:** Используйте RimWorld Art Source (ссылка Dropbox предоставлена на странице вики) в качестве шаблона.
- **Расположение:** Папка `/Textures` в структуре мода.
    - Используйте папки пространств имен или префиксы имен файлов, чтобы избежать конфликтов.
- **Путь к текстуре:** Относительно папки `/Textures`, например, `MyMod/MyTexture`.

**Маскирование текстур:**

- (Заполнитель в источнике, требуется контент, если доступен в другом месте)

**Текстуры зданий:**

- **Сетка клеток:** Создавайте текстуры на сетке клеток, соответствующей размеру здания.
- **Центрирование:** Центрируйте текстуру на холсте, чтобы упростить выравнивание.
- **Пример:** Здание 2x2 на холсте 3x3.

**Текстуры одежды:**

- **Наложение:** Текстуры головных уборов и одежды для тела накладываются 1:1 на пешек.
- **Шаблоны:** Используйте ванильные текстуры тела/одежды в качестве шаблонов (RimWorld Art Source).
- **Головные уборы:**
    - Минимум 3 текстуры: юг, север, восток.
    - Запад: Необязательно (зеркально отображается с востока, если опущено).
    - Текстура земли: Необязательно, но рекомендуется (всего 3+1 текстуры).
    - Маски текстур: Используйте, если необходимо (всего 6+2 с масками).
- **Одежда для тела:**
    - То же использование текстур, что и для головных уборов.
    - 5 типов телосложения: мужской, женский, худой, громила, толстый.
    - Всего: 15+1 текстуры (или 30+2 с масками).
- **Утилитарные ранцы:** (Канистры с токсичным газом)
    - Одна текстура со смещениями на основе типа телосложения.
    - Только предметы для утилитарного слота.
    - Требования к текстурам такие же, как и для головных уборов (3+1 или 6+2 с масками).


```````
